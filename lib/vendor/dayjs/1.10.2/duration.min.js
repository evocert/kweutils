!function(s,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):s.dayjs_plugin_duration=t()}(this,function(){"use strict";function r(s){return s instanceof n}function o(s,t,i){return new n(s,i,t.$l)}function e(s){return u.p(s)+"s"}var h,u,s,t=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,c={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},n=((s=i.prototype).calMilliseconds=function(){var i=this;this.$ms=Object.keys(this.$d).reduce(function(s,t){return s+(i.$d[t]||0)*c[t]},0)},s.parseFromMilliseconds=function(){var s=this.$ms;this.$d.years=Math.floor(s/31536e6),s%=31536e6,this.$d.months=Math.floor(s/2592e6),s%=2592e6,this.$d.days=Math.floor(s/864e5),s%=864e5,this.$d.hours=Math.floor(s/36e5),s%=36e5,this.$d.minutes=Math.floor(s/6e4),s%=6e4,this.$d.seconds=Math.floor(s/1e3),s%=1e3,this.$d.milliseconds=s},s.toISOString=function(){var s=this.$d.years?this.$d.years+"Y":"",t=this.$d.months?this.$d.months+"M":"",i=+this.$d.days||0;this.$d.weeks&&(i+=7*this.$d.weeks);var n=i?i+"D":"",e=this.$d.hours?this.$d.hours+"H":"",r=this.$d.minutes?this.$d.minutes+"M":"",i=this.$d.seconds||0;this.$d.milliseconds&&(i+=this.$d.milliseconds/1e3);i=i?i+"S":"",i="P"+s+t+n+(e||r||i?"T":"")+e+r+i;return"P"==i?"P0D":i},s.toJSON=function(){return this.toISOString()},s.format=function(s){var s=s||"YYYY-MM-DDTHH:mm:ss",i={Y:this.$d.years,YY:u.s(this.$d.years,2,"0"),YYYY:u.s(this.$d.years,4,"0"),M:this.$d.months,MM:u.s(this.$d.months,2,"0"),D:this.$d.days,DD:u.s(this.$d.days,2,"0"),H:this.$d.hours,HH:u.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:u.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:u.s(this.$d.seconds,2,"0"),SSS:u.s(this.$d.milliseconds,3,"0")};return s.replace(t,function(s,t){return t||String(i[s])})},s.as=function(s){return this.$ms/c[e(s)]},s.get=function(s){var t=this.$ms,s=e(s);return"milliseconds"===s?t%=1e3:t="weeks"===s?Math.floor(t/c[s]):this.$d[s],t},s.add=function(s,t,i){s=t?s*c[e(t)]:(r(s)?s:o(s,this)).$ms;return o(this.$ms+s*(i?-1:1),this)},s.subtract=function(s,t){return this.add(s,t,!0)},s.locale=function(s){var t=this.clone();return t.$l=s,t},s.clone=function(){return o(this.$ms,this)},s.humanize=function(s){return h().add(this.$ms,"ms").locale(this.$l).fromNow(!s)},s.milliseconds=function(){return this.get("milliseconds")},s.asMilliseconds=function(){return this.as("milliseconds")},s.seconds=function(){return this.get("seconds")},s.asSeconds=function(){return this.as("seconds")},s.minutes=function(){return this.get("minutes")},s.asMinutes=function(){return this.as("minutes")},s.hours=function(){return this.get("hours")},s.asHours=function(){return this.as("hours")},s.days=function(){return this.get("days")},s.asDays=function(){return this.as("days")},s.weeks=function(){return this.get("weeks")},s.asWeeks=function(){return this.as("weeks")},s.months=function(){return this.get("months")},s.asMonths=function(){return this.as("months")},s.years=function(){return this.get("years")},s.asYears=function(){return this.as("years")},i);function i(t,s,i){var n=this;if(this.$d={},this.$l=i,s)return o(t*c[e(s)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach(function(s){n.$d[e(s)]=t[s]}),this.calMilliseconds(),this;if("string"==typeof t){s=t.match(d);if(s)return this.$d.years=s[2],this.$d.months=s[3],this.$d.weeks=s[4],this.$d.days=s[5],this.$d.hours=s[6],this.$d.minutes=s[7],this.$d.seconds=s[8],this.calMilliseconds(),this}return this}return function(s,t,n){u=(h=n)().$utils(),n.duration=function(s,t){var i=n.locale();return o(s,{$l:i},t)},n.isDuration=r;var i=t.prototype.add,e=t.prototype.subtract;t.prototype.add=function(s,t){return r(s)&&(s=s.asMilliseconds()),i.bind(this)(s,t)},t.prototype.subtract=function(s,t){return r(s)&&(s=s.asMilliseconds()),e.bind(this)(s,t)}}});