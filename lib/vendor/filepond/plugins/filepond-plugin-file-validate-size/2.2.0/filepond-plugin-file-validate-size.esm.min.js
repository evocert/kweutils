/*!
 * FilePondPluginFileValidateSize 2.2.0
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */

/* eslint-disable */

const e=({addFilter:e,utils:i})=>{const{Type:l,replaceInString:E,toNaturalFileSize:_}=i;return e("ALLOW_HOPPER_ITEM",(e,{query:i})=>{if(!i("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const l=i("GET_MAX_FILE_SIZE");if(null!==l&&e.size>=l)return!1;const E=i("GET_MIN_FILE_SIZE");return!(null!==E&&e.size<=E)}),e("LOAD_FILE",(e,{query:i})=>new Promise((l,I)=>{if(!i("GET_ALLOW_FILE_SIZE_VALIDATION"))return l(e);const t=i("GET_FILE_VALIDATE_SIZE_FILTER");if(t&&!t(e))return l(e);const n=i("GET_MAX_FILE_SIZE");if(null!==n&&e.size>=n)return void I({status:{main:i("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:E(i("GET_LABEL_MAX_FILE_SIZE"),{filesize:_(n)})}});const s=i("GET_MIN_FILE_SIZE");if(null!==s&&e.size<=s)return void I({status:{main:i("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:E(i("GET_LABEL_MIN_FILE_SIZE"),{filesize:_(s)})}});const L=i("GET_MAX_TOTAL_FILE_SIZE");if(null!==L){if(i("GET_ACTIVE_ITEMS").reduce((e,i)=>e+i.fileSize,0)>L)return void I({status:{main:i("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:E(i("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:_(L)})}})}l(e)})),{options:{allowFileSizeValidation:[!0,l.BOOLEAN],maxFileSize:[null,l.INT],minFileSize:[null,l.INT],maxTotalFileSize:[null,l.INT],fileValidateSizeFilter:[null,l.FUNCTION],labelMinFileSizeExceeded:["File is too small",l.STRING],labelMinFileSize:["Minimum file size is {filesize}",l.STRING],labelMaxFileSizeExceeded:["File is too large",l.STRING],labelMaxFileSize:["Maximum file size is {filesize}",l.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",l.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",l.STRING]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e}));export default e;
