define(["module"],function(module){
	var baseUrl=module.id.substring(0,module.id.lastIndexOf('/'));
	var modPath="";
	var GOJA=true;
	var dojoConfig = {
		baseUrl:"./www/kweutils/",
		async: 0, // We want to make sure we are using the "modern" loader
		hasCache: {
			"host-node": 1, // Ensure we "force" the loader into Node.js mode
			"dom": 0 // Ensure that none of the code assumes we have a DOM
		},
		// While it is possible to use config-tlmSiblingOfDojo to tell the
		// loader that your packages share the same root path as the loader,
		// this really isn't always a good idea and it is better to be
		// explicit about our package map.
		packages: []
	};//will read?

	requirejs.config({
		//"urlArgs":["cachebust",(new Date()).getTime()].join("="),
		"waitSeconds":0,
		"baseUrl":baseUrl,
		"paths": {
			"env":modPath+"goja/env",
			"promise":modPath+"goja/Promise.goja",
			"string":modPath+"goja/string",
			"alert":modPath+"goja/alert",
			"console":modPath+"goja/console",
			"error":modPath+"goja/error",
			"window":modPath+"goja/window",
			"document":modPath+"goja/document",
			"idutils":modPath+"goja/idutils",
			"pathutils":modPath+"goja/pathutils",
			"pubsub":modPath+"goja/pubsub",
			"request":modPath+"goja/request",
			"class":modPath+"goja/class.goja",
			"classjs":modPath+"goja/class.goja",
			"colorutils":modPath+"goja/colorutils",
			"underscore":modPath+"vendor/underscore/underscore-min",
			"lodash":modPath+"vendor/lodash/lodash.min",
			"babel":modPath+"vendor/babel/babel.min",
			"text":modPath+"vendor/requirejs/require.text",
			"babel-plugin-transform-remove-strict-mode":modPath+"vendor/babel/plugins/babel-plugin-transform-remove-strict-mode/index",
			"babel-plugin-module-resolver":modPath+"vendor/babel/plugins/babel-plugin-module-resolver-standalone/index",
			"es6":modPath+"vendor/es6/es6",
			"jquery":modPath+"vendor/jquery/jquery.3.5.1",
			"jquery-private":modPath+"vendor/jquery/jquery-private",
			"d3":modPath+"vendor/d3/3.5.17/d3.v3.min",//d3
			//"d3":modPath+"vendor/d3/4.13.0/d3",
			//"d3":modPath+"vendor/d3/4.13.0/d3",
			//"d3":modPath+"vendor/d3/4.13.0/d3.v4.min",//d3-3d
			//"d3":modPath+"vendor/d3/6.3.1/d3.min",
			//"d3-3d":modPath+"vendor/d3-3d/0.0.1/d3-3d.min",
			//"d3-3d":modPath+"vendor/d3-3d/0.0.2/d3-3d.min",
			//"d3-3d":modPath+"vendor/d3-3d/0.0.3/d3-3d.min",
			//"d3-3d":modPath+"vendor/d3-3d/0.0.5/d3-3d.min",
			//"d3-3d":modPath+"vendor/d3-3d/0.0.7/d3-3d.min",
			//"d3-3d":modPath+"vendor/d3-3d/0.0.8/d3-3d.min",
			"d3-3d":modPath+"vendor/d3-3d/0.0.9/d3-3d.min",
			"d3-array":modPath+"vendor/d3-array/1.2.1/d3-array.min",
			"d3-collection":modPath+"vendor/d3-collection/1.0.4/d3-collection.min",
			"d3-dispatch":modPath+"vendor/d3-dispatch/1.0.3/d3-dispatch.min",
			"d3-request":modPath+"vendor/d3-request/1.0.6/d3-request.min",
			"d3-scale-chromatic":modPath+"vendor/d3-scale-chromatic/d3-scale-chromatic.v1.min",
			"d3-selection":modPath+"vendor/d3-selection/1.1.0/d3-selection.min",
			"domino":modPath+"vendor/domino/domino",
			//"domino":modPath+"vendor/domino/blocks/domino",
			"svg":modPath+"vendor/svg.js/3.0.16/svg",
			"zest":modPath+"vendor/zest/zest",
			"cyclejs":modPath+"vendor/cyclejs/cycle",
			"LoremIpsum":modPath+"vendor/lorem/lorem",
			//"xml2js":modPath+"vendor/xml2js/xml2js",
			"xml2js":modPath+"vendor/xml2js/index",
			//"dojo":"vendor/dojo/1.16.3/dojo/dojo",
			"vexflow":"vendor/vexflow/3.0.9/vexflow-min",
			"mathjs":modPath+"vendor/mathjs/8.1.1/math",
			"jison":modPath+"vendor/jison/jison",
			//"xregexp":modPath+"vendor/xregexp/3.2.0/xregexp-all.min",
			"xregexp":modPath+"vendor/xregexp/4.4.1/xregexp-all",
			"backbone":modPath+"vendor/backbone/1.4.0/backbone-min",
			"sjcl":modPath+"vendor/sjcl/1.0.8/sjcl",
			"jsencrypt":modPath+"vendor/jsencrypt/3.0.0/jsencrypt",
			"forge":modPath+"vendor/forge/0.10.0_amd/index.amd",
			//"cryptojs":modPath+"vendor/cryptojs/index",//todo: create amd module (https://code.google.com/archive/p/crypto-js/downloads)
			"victorjs":modPath+"vendor/victorjs/1.1.0/victor",
			"vecla":modPath+"vendor/vecla/vec.amd",
			"chroma":modPath+"vendor/chroma/2.1.0/chroma",
			"chai":modPath+"vendor/chai/4.2.0/chai.min",
		},

		"packages":[
			{
				"name":"dojo",
				"location":"vendor/dojo/1.16.3/dojo"
			}
		],

		"config":{
			"text":{
				"env":"goja"
			}
		},
		"map":{
			"*":{
			},
			//"jquery-private":{"jquery":"jquery"},
		},
		"shim": {
			"underscore":{
				"deps":[],
				"exports":"_"
			},
			"lodash":{
				"deps":[],
				"exports":"_"
			},
			"babel":{
				"deps":["string"],
				"exports":"Babel"
			},
			"string":{
				"deps":[],
				"exports":"String"
			},
			"es6":{
				"deps":["babel","text"]
			},  
			"console":{
				"deps":[],
				"exports":"console"
			},
			/*
			"domino":{
				"exports":"domino"
			},
			*/
			"window":{
				"deps":[],
				"exports":"window"
			},
			"document":{
				"deps":["window"],
				"exports":"document"
			},
			"jquery-private":{
				"deps":[]
			},
			"jquery":{
				"deps":["document","window"]
			},
			"d3":{
				//"deps":["window"],
				"exports":"d3"
			},
			"d3-3d":{
				"deps":["d3"]
			},
			"d3-array":{
				"deps":["d3"]
			},
			"d3-collection":{
				"deps":["d3"]
			},
			"d3-dispatch":{
				"deps":["d3"]
			},
			"d3-request":{
				"deps":["d3"]
			},
			"d3-scale-chromatic":{
				"deps":["d3"]
			},
			"d3-selection":{
				"deps":["d3"]
			},
			"svg":{
				//"deps":["document","window"],
				//"exports":"svg"
				"exports":"SVG"
			},
			"LoremIpsum":{
				"deps":[],
				"exports":"LoremIpsum"
			},
			//"xml2js":{}
			"jison":{
				"deps":[],
				"exports":"Jison"
			},
			"xregexp":{
				"deps":[],
				"exports":"XRegExp"
			},
			"backbone":{
				"deps":["underscore"],
				"exports":"Backbone"
			},
			"sjcl":{
				"deps":[],
				"exports":"sjcl"
			},
			"jsencrypt":{
				"deps":[],
				"exports":"JSEncrypt"
			},
			"forge":{
				"deps":[],
				"exports":"forge"
			},
			"victorjs":{
				"deps":[],
				"exports":"Victor"
			},
			"vecla":{
				"deps":[],
				"exports":"vec"
			},
			"kandinsky":{
				"deps":[],
				"exports":"kandinsky"
			},
			"chroma":{
				"deps":[],
				"exports":"chroma"
			},
			"chai":{
				"exports":"chai"
			},
		},
		"deps":[]//default dependencies
	});
});
